close all; clear; clc;
%%
data_1d         =   load("../mesh/basis/basis_1d.txt");
data_2d         =   load("../mesh/basis/basis_2d.txt");
data_3d         =   load("../mesh/basis/basis_3d.txt");
%%
[N1d, ~]        =   size(data_1d);
[N2d, ~]        =   size(data_2d);
[N3d, ~]        =   size(data_3d);
%%
figure()
axis equal
view([45 45])
hold on
% for i=1:N1d
%     plot3([data_1d(i, 1), data_1d(i, 1+3)], [data_1d(i, 2), data_1d(i, 2+3)], [data_1d(i, 3), data_1d(i, 3+3)], '-b')
%     plot3([data_1d(i, 1+3), data_1d(i, 1+3+3)], [data_1d(i, 2+3), data_1d(i, 2+3+3)], [data_1d(i, 3+3), data_1d(i, 3+3+3)], '-r')
%     % input("press enter");
% end
for i=1:N2d
    plot3([data_2d(i, 1), data_2d(i, 1+3), data_2d(i, 1+3+3), data_2d(i, 1+3+3+3)],...
          [data_2d(i, 2), data_2d(i, 2+3), data_2d(i, 2+3+3), data_2d(i, 2+3+3+3)],...
          [data_2d(i, 3), data_2d(i, 3+3), data_2d(i, 3+3+3), data_2d(i, 3+3+3+3)], '-k', 'lineWidth', 2)
    plot3([data_2d(i, 1), data_2d(i, 1+3+3), data_2d(i, 1+3), data_2d(i, 1+3+3+3)],...
          [data_2d(i, 2), data_2d(i, 2+3+3), data_2d(i, 2+3), data_2d(i, 2+3+3+3)],...
          [data_2d(i, 3), data_2d(i, 3+3+3), data_2d(i, 3+3), data_2d(i, 3+3+3+3)], '-k', 'lineWidth', 2)
    plot3([data_2d(i, 1), (data_2d(i, 1+3)+data_2d(i, 1+3+3))/2],...
          [data_2d(i, 2), (data_2d(i, 2+3)+data_2d(i, 2+3+3))/2],...
          [data_2d(i, 3), (data_2d(i, 3+3)+data_2d(i, 3+3+3))/2], '-b')
    plot3([data_2d(i, 1+3+3+3), (data_2d(i, 1+3)+data_2d(i, 1+3+3))/2],...
          [data_2d(i, 2+3+3+3), (data_2d(i, 2+3)+data_2d(i, 2+3+3))/2],...
          [data_2d(i, 3+3+3+3), (data_2d(i, 3+3)+data_2d(i, 3+3+3))/2], '-r')
    plot3([(data_2d(i, 1)+data_2d(i, 1+3)+data_2d(i, 1+3+3))/3,  (data_2d(i, 1)+data_2d(i, 1+3)+data_2d(i, 1+3+3))/3+0.1*data_2d(i, 1+3+3+3+3)],...
          [(data_2d(i, 2)+data_2d(i, 2+3)+data_2d(i, 2+3+3))/3, (data_2d(i, 2)+data_2d(i, 2+3)+data_2d(i, 2+3+3))/3+0.1*data_2d(i, 2+3+3+3+3)],...
          [(data_2d(i, 3)+data_2d(i, 3+3)+data_2d(i, 3+3+3))/3, (data_2d(i, 3)+data_2d(i, 3+3)+data_2d(i, 3+3+3))/3+0.1*data_2d(i, 3+3+3+3+3)], '-k')
    plot3([(data_2d(i, 1+3+3+3)+data_2d(i, 1+3)+data_2d(i, 1+3+3))/3,  (data_2d(i, 1)+data_2d(i, 1+3)+data_2d(i, 1+3+3))/3+0.1*data_2d(i, 1+3+3+3+3+3)],...
          [(data_2d(i, 2+3+3+3)+data_2d(i, 2+3)+data_2d(i, 2+3+3))/3, (data_2d(i, 2+3+3+3)+data_2d(i, 2+3)+data_2d(i, 2+3+3))/3+0.1*data_2d(i, 2+3+3+3+3+3)],...
          [(data_2d(i, 3+3+3+3)+data_2d(i, 3+3)+data_2d(i, 3+3+3))/3, (data_2d(i, 3+3+3+3)+data_2d(i, 3+3)+data_2d(i, 3+3+3))/3+0.1*data_2d(i, 3+3+3+3+3+3)], '-k')
    input("press enter");
end
% for i=1:N3d
%       plot3(0, 0, 0)
%       hold on
%     plot3([data_3d(i, 1), data_3d(i, 1+3), data_3d(i, 1+3+3), data_3d(i, 1+3+3+3), data_3d(i, 1+3+3+3+3)],...
%           [data_3d(i, 2), data_3d(i, 2+3), data_3d(i, 2+3+3), data_3d(i, 2+3+3+3), data_3d(i, 2+3+3+3+3)],...
%           [data_3d(i, 3), data_3d(i, 3+3), data_3d(i, 3+3+3), data_3d(i, 3+3+3+3), data_3d(i, 3+3+3+3+3)], '-k', 'lineWidth', 2)

%     plot3([data_3d(i, 1), data_3d(i, 1+3+3)],...
%           [data_3d(i, 2), data_3d(i, 2+3+3)],...
%           [data_3d(i, 3), data_3d(i, 3+3+3)], '-k', 'lineWidth', 1)

%     plot3([data_3d(i, 1), data_3d(i, 1+3+3+3)],...
%           [data_3d(i, 2), data_3d(i, 2+3+3+3)],...
%           [data_3d(i, 3), data_3d(i, 3+3+3+3)], '-k', 'lineWidth', 1)

%     plot3([data_3d(i, 1+3+3+3+3), data_3d(i, 1+3+3)],...
%           [data_3d(i, 2+3+3+3+3), data_3d(i, 2+3+3)],...
%           [data_3d(i, 3+3+3+3+3), data_3d(i, 3+3+3)], '-k', 'lineWidth', 1)

%     plot3([data_3d(i, 1+3+3+3+3), data_3d(i, 1+3)],...
%           [data_3d(i, 2+3+3+3+3), data_3d(i, 2+3)],...
%           [data_3d(i, 3+3+3+3+3), data_3d(i, 3+3)], '-k', 'lineWidth', 1)

%     plot3([data_3d(i, 1+3), data_3d(i, 1+3+3)],...
%           [data_3d(i, 2+3), data_3d(i, 2+3+3)],...
%           [data_3d(i, 3+3), data_3d(i, 3+3+3)], '-g', 'lineWidth', 1)

%     plot3([data_3d(i, 1+3+3), data_3d(i, 1+3+3+3)],...
%           [data_3d(i, 2+3+3), data_3d(i, 2+3+3+3)],...
%           [data_3d(i, 3+3+3), data_3d(i, 3+3+3+3)], '-g', 'lineWidth', 1)

%     plot3([data_3d(i, 1+3), data_3d(i, 1+3+3+3)],...
%           [data_3d(i, 2+3), data_3d(i, 2+3+3+3)],...
%           [data_3d(i, 3+3), data_3d(i, 3+3+3+3)], '-g', 'lineWidth', 1)

%     plot3([data_3d(i, 1), (data_3d(i, 1+3)+data_3d(i, 1+3+3)+data_3d(i, 1+3+3+3))/3],...
%           [data_3d(i, 2), (data_3d(i, 2+3)+data_3d(i, 2+3+3)+data_3d(i, 2+3+3+3))/3],...
%           [data_3d(i, 3), (data_3d(i, 3+3)+data_3d(i, 3+3+3)+data_3d(i, 3+3+3+3))/3], '-b')

%     plot3([data_3d(i, 1+3+3+3+3), (data_3d(i, 1+3)+data_3d(i, 1+3+3)+data_3d(i, 1+3+3+3))/3],...
%           [data_3d(i, 2+3+3+3+3), (data_3d(i, 2+3)+data_3d(i, 2+3+3)+data_3d(i, 2+3+3+3))/3],...
%           [data_3d(i, 3+3+3+3+3), (data_3d(i, 3+3)+data_3d(i, 3+3+3)+data_3d(i, 3+3+3+3))/3], '-r')

%     plot3([(data_3d(i, 1)+data_3d(i, 1+3)+data_3d(i, 1+3+3))/3, (data_3d(i, 1)+data_3d(i, 1+3)+data_3d(i, 1+3+3))/3+0.1*data_3d(i, 1+5*3)],...
%           [(data_3d(i, 2)+data_3d(i, 2+3)+data_3d(i, 2+3+3))/3, (data_3d(i, 2)+data_3d(i, 2+3)+data_3d(i, 2+3+3))/3+0.1*data_3d(i, 2+5*3)],...
%           [(data_3d(i, 3)+data_3d(i, 3+3)+data_3d(i, 3+3+3))/3, (data_3d(i, 3)+data_3d(i, 3+3)+data_3d(i, 3+3+3))/3+0.1*data_3d(i, 3+5*3)], '-k')
    
%     plot3([(data_3d(i, 1)+data_3d(i, 1+3)+data_3d(i, 1+3+3+3))/3, (data_3d(i, 1)+data_3d(i, 1+3)+data_3d(i, 1+3+3+3))/3+0.1*data_3d(i, 1+5*3)],...
%           [(data_3d(i, 2)+data_3d(i, 2+3)+data_3d(i, 2+3+3+3))/3, (data_3d(i, 2)+data_3d(i, 2+3)+data_3d(i, 2+3+3+3))/3+0.1*data_3d(i, 2+5*3)],...
%           [(data_3d(i, 3)+data_3d(i, 3+3)+data_3d(i, 3+3+3+3))/3, (data_3d(i, 3)+data_3d(i, 3+3)+data_3d(i, 3+3+3+3))/3+0.1*data_3d(i, 3+5*3)], '-k')

%       hold off
%     input("press enter");
% end
hold off